---
layout: single
title: "Others"
date: 2020-07-13 11:35:11 +0800
Author: hedzr
tags: [commander, command-line, "command-line-parser", command-line-interface,  getops, posix, posix-compatible, hierarchical-configuration, hierarchy, cli, golang]
categories: golang cmdr guide envvars
comments: true
toc: true
header:
  overlay_image: /assets/images/cmdr/help-screen.png
  overlay_filter: rgba(128, 128, 0, 0.3)
excerpt: >-
  Guide and References for cmdr ...
#header:
#  overlay_image: /assets/images/unsplash-image-1.jpg
#  overlay_filter: rgba(0, 0, 0, 0.15)
#  caption: "Photo credit: [**Unsplash**](https://unsplash.com)"
#  actions:
#    - label: "More Info"
#      url: "https://unsplash.com"


---



# Others



## Addons

### Using `isdelve`

isdelve 几乎被内置于 `cmdr` 中。

几乎，是指如果你会使用到几个特别的 API 调用的话，则 isdelve 会被自动地引用到你的项目中，否则即使你使用了 cmdr 也不会自动包含 isdelve 的相关内容。这几个特别调用是：

1. `cmdr.InDebugging() bool`
2. `cmdr.IsDebuggerAttached() bool`

isdelve 提供的检测函数，目的在于检测 dlv 调试器有否在线。如果你的 app 被启用于一个 dlv 兼容的调试容器中，那么上述检测会返回 true 值。

#### 和 IsDebugMode() 的区别

`IsDebugMode() bool` 的功能是测试 `cmdr.GetBoolR("debug")` 是否被置位。要设置这个标志，你可以在命令行中输入 `--debug/-D`，这是在 cmdr 中内建的隶属于 RootCommand 的标志，目的就在于预置一个全局的 `调试模式`。

一般来说，所谓的 `调试模式` 就是为了能够输出更多的 app 运行过程中预埋的调试日志，如果你使用了 logex 集成（这是我们提供的一个用于整合 cmdr 和 logrus 的附加库），那么 `logrus.Debug(...)` 将会在 `--debug` 为 true 时自动被输出。

> See also: `WithLogex()`

#### `--debug` vs `~~debug`

要注意的是，`--debug` 是隶属于 RootCommand 的命令行标志，它和 `~~debug` 也有所不同。

`~~debug` 采用 cmdr 特有的标志前缀 `~~`，这会设置一个在 Option Store 中的 `debug` 配置项，而 `--debug` 会设置的是 Option Store 中的 `app.debug` 配置项。

所以通过 `cmdr.GetBoolR("debug")` 能够获取到 `--debug` 的配置值，但你无法通过 cmdr.GetBoolR() 的方式取得 `~~debug` 的值。取而代之的是，你应该用 `cmdr.GetBool("debug")` 来获取 `~~debug` 的配置值。

> GetBool(keyPath) 直接取得 keyPath 对应的配置项的值。
>
> GetBoolR(keyPath) 首先为 keyPath 添加所谓的 OptionsPrefix 前缀，然后再取得新的 keyPath 所对应的配置项的值。
>
> 默认的 OptionsPrefix 为 "app"。





### Using `dex`







🔚



